<section class="albums-view" ng-controller="AlbumsListController as albums">
    <header class="albums-header" loader="albums.dataLoading">
        <h1>Top albums from my last.fm history</h1>
        <form class="sorting-form">
            <label class="order-label">Sorting:</label>
            <div class="sorting-container">
                <button
                    class="sorting-option"
                    ng-class="{active: albums.sortAttribute == 'name'}"
                    ng-click="albums.sortAttribute = 'name'"
                    >album
                </button>
                <button
                    class="sorting-option"
                    ng-class="{active: albums.sortAttribute == 'artist.name'}"
                    ng-click="albums.sortAttribute = 'artist.name'"
                    >artist</button>
                <button
                    class="sorting-option"
                    ng-class="{active: albums.sortAttribute == 'released'}"
                    ng-click="albums.sortAttribute = 'released'"
                    >release</button>
                <button 
                    class="order-button"
                    name="order-button"
                    ng-click="albums.sortDescending = !albums.sortDescending">
                    <svg 
                        class="order-button-background"
                        ng-class="{reversed: albums.sortDescending}"
                        viewBox="0 0 512 512"
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M 96.00,96.00l-96.00,96.00l 256.00,256.00l 256.00-256.00l-96.00-96.00L 256.00,256.00L 96.00,96.00z" ></path>
                    </svg>
                </button>
            </div>

        </form>
        <h3>Albums list:</h3>
    </header>

    <div class="albums-list-container">
        <div 
            class="album-container"
            ng-repeat="album in albums.albums | orderBy : albums.sortAttribute : albums.sortDescending">
            <a href="{{ ::album.url }}" target="_blank">
                <img
                    class="album-cover"
                    ng-src="{{ ::album.image[2].text }}"
                    alt="{{ ::album.name }}">
            </a>
            <div class="album-details">
                <h2 class="album-title">
                    {{ ::album.name }}
                </h2>
                <h5 class="album-artist">
                    <span class="pale-label">By:</span> {{ ::album.artist.name }}
                </h5>
                <h6 class="album-release-date">
                    <span class="pale-label">Released:</span> {{ ::album.released | date:'dd.MM.yyyy' }}
                </h6>
            </div>
        </div>
    </div>
</section>
